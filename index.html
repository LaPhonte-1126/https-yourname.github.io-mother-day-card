<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ch√∫c M·∫π 20-10 üíñ</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@300;600&display=swap" rel="stylesheet">
<style>
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%;overflow:hidden}
  body{
    font-family:'Inter',sans-serif;
    background: radial-gradient(circle at 20% 20%, #ffb3ec, #ff9fda 25%, #b28bff 60%, #2e005e 100%);
    background-attachment:fixed;
    color:white;
  }
  canvas{position:fixed;inset:0;width:100%;height:100%}
  .hero{
    position:fixed;inset:0;
    display:flex;flex-direction:column;
    align-items:center;justify-content:center;
    text-align:center;
    text-shadow:0 0 20px rgba(255,255,255,0.8);
    z-index:5;
  }
  h1{
    font-family:'Great Vibes',cursive;
    font-size:clamp(40px,8vw,100px);
    color:#fff;
  }
  p{
    font-size:clamp(16px,2vw,26px);
    margin-top:10px;
  }
</style>
</head>
<body>
<canvas id="fireworks"></canvas>
<div class="hero">
  <h1>Ch√∫c M·∫π 20-10 vui v·∫ª, h·∫°nh ph√∫c<br>v√† m√£i m√£i xinh ƒë·∫πp! üíê</h1>
  <p>‚Äî Con th∆∞∆°ng M·∫π nhi·ªÅu ‚Äî</p>
</div>
<audio id="bgm" src="music.mp3" preload="auto" loop></audio>
<script>
/* ==== Hi·ªáu ·ª©ng ph√°o hoa n√¢ng c·∫•p (tr√°i tim & ƒëu√¥i s√°ng) ==== */
const canvas=document.getElementById("fireworks"),ctx=canvas.getContext("2d");
let w,h;function resize(){w=canvas.width=innerWidth*devicePixelRatio;h=canvas.height=innerHeight*devicePixelRatio;ctx.scale(devicePixelRatio,devicePixelRatio)}
resize();addEventListener("resize",resize);

class Particle{
  constructor(x,y,vx,vy,color,size){
    this.x=x;this.y=y;this.vx=vx;this.vy=vy;
    this.color=color;this.life=1;this.size=size;
    this.trail=[];this.maxTrail=8;
  }
  update(dt){
    this.trail.push({x:this.x,y:this.y,life:this.life});
    if(this.trail.length>this.maxTrail)this.trail.shift();
    this.vy+=300*dt;
    this.x+=this.vx*dt;this.y+=this.vy*dt;
    this.life-=dt*0.4;
  }
  draw(ctx){
    const grad=ctx.createRadialGradient(this.x,this.y,0,this.x,this.y,this.size*3);
    grad.addColorStop(0,this.color);grad.addColorStop(1,"transparent");
    ctx.fillStyle=grad;
    ctx.beginPath();ctx.arc(this.x,this.y,this.size,0,2*Math.PI);ctx.fill();
    // ƒëu√¥i s√°ng
    for(let i=0;i<this.trail.length;i++){
      const t=this.trail[i];
      ctx.globalAlpha=t.life*this.life*0.6;
      ctx.fillRect(t.x-1,t.y-1,2,2);
    }
    ctx.globalAlpha=1;
  }
}

function heartShape(t){
  const x=16*Math.sin(t)**3;
  const y=13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t);
  return {x:x/18,y:-y/18};
}

let particles=[];
let last=performance.now(),timer=0;
const colors=["#ff6fb5","#ffb6c1","#ffd166","#cba6f7","#ffffff"];
function spawnHeart(){
  const cx=Math.random()*innerWidth*0.8+innerWidth*0.1;
  const cy=Math.random()*innerHeight*0.4+innerHeight*0.2;
  const color=colors[Math.floor(Math.random()*colors.length)];
  const n=300,spd=400+Math.random()*200;
  for(let i=0;i<n;i++){
    const t=(i/n)*Math.PI*2;
    const p=heartShape(t);
    const vx=p.x*spd*(0.8+Math.random()*0.4);
    const vy=p.y*spd*(0.8+Math.random()*0.4);
    particles.push(new Particle(cx,cy,vx,vy,color,2+Math.random()*1.5));
  }
}
function animate(now){
  const dt=(now-last)/1000;last=now;
  ctx.globalCompositeOperation="destination-out";
  ctx.fillStyle="rgba(0,0,0,0.2)";
  ctx.fillRect(0,0,innerWidth,innerHeight);
  ctx.globalCompositeOperation="lighter";
  timer-=dt;
  if(timer<=0){spawnHeart();timer=1.2;}
  for(let i=particles.length-1;i>=0;i--){
    const p=particles[i];
    p.update(dt);
    if(p.life<=0)particles.splice(i,1);
    else p.draw(ctx);
  }
  requestAnimationFrame(animate);
}
requestAnimationFrame(animate);

/* ===== Nh·∫°c: auto play ho·∫∑c khi ch·∫°m ===== */
const bgm=document.getElementById("bgm");
(async()=>{try{await bgm.play();}catch{}})();
window.addEventListener("pointerdown",()=>bgm.play().catch(()=>{}),{once:true});
</script>
</body>
</html>
